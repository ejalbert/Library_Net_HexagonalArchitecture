@page "/Author"
@using Microsoft.AspNetCore.Components.Forms
@using Microsoft.AspNetCore.Components.Web



<h3>Create Author</h3>

<div class="author-form">
    <div class="form-layout">
        <label>
            Author Name:
            <InputText id="author-name" @bind-Value="FormModel!.Name" name="@(nameof(FormModel.Name))"/>
        </label>
        <button type="button" class="btn btn-primary mt-2 create-author-btn" disabled="@IsCreateDisabled"
                @onclick="() => CreateAuthor(FormModel!)">
            @(IsSubmitting ? "Creating..." : "Create Author")
        </button>
    </div>
</div>

@if (LastCreatedAuthor is not null)
{
    <div class="alert alert-success mt-3 created-author">
        <h4>@LastCreatedAuthor.Name</h4>
        <span class="text-muted">Id: @LastCreatedAuthor.Id</span>
    </div>
}

@if (!string.IsNullOrWhiteSpace(ErrorMessage))
{
    <p class="text-danger mt-2">@ErrorMessage</p>
}
